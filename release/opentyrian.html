<!doctypehtml><html><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1"name=viewport><title>OpenTyrian WASM</title><style>body,html{margin:0;width:100%;height:100%;overflow:hidden;background:#0b0e13}#canvas{width:100vw;height:100vh;display:block}#status{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#b8d8ff;font:600 18px system-ui,sans-serif;text-align:center}</style></head><body><div id=status>Loading OpenTyrian...</div><canvas id=canvas></canvas><script>var statusEl=document.getElementById("status"),persistSyncInFlight=!1,persistReady=!1;function persistFs(){try{if(!persistReady||persistSyncInFlight)return;"undefined"!=typeof FS&&"function"==typeof FS.syncfs&&(persistSyncInFlight=!0,FS.syncfs(!1,(function(e){persistSyncInFlight=!1,e&&console.error("IDBFS flush failed:",e)})))}catch(e){persistSyncInFlight=!1}}function hasRealIdbfs(){return"object"==typeof IDBFS&&null!==IDBFS&&"function"==typeof IDBFS.mount}var Module={canvas:document.getElementById("canvas"),preRun:[function(){if("undefined"!=typeof FS)if(hasRealIdbfs()){try{FS.mkdir("/persist")}catch(e){}try{FS.mkdir("/persist/opentyrian")}catch(e){}try{FS.mount(IDBFS,{autoPersist:!0},"/persist/opentyrian")}catch(e){return void console.error("IDBFS mount failed:",e)}Module.addRunDependency("idbfs-sync"),FS.syncfs(!0,(function(e){e&&console.error("IDBFS initial sync failed:",e),persistReady=!0,Module.removeRunDependency("idbfs-sync")}))}else console.error("IDBFS backend not linked. Rebuild with -lidbfs.js.");else console.error("FS is unavailable; cannot enable persistence.")}],print:function(e){console.log(e)},printErr:function(e){console.error(e)},setStatus:function(e){statusEl.textContent=e||"",e||(statusEl.style.display="none")},monitorRunDependencies:function(e){e?Module.setStatus("Loading data..."):Module.setStatus("")},onRuntimeInitialized:function(){Module.setStatus("")},onAbort:function(e){console.error("Engine abort:",e)},onExit:function(e){console.log("Engine exit:",e)}};function unlockAudio(){try{Module.SDL2&&Module.SDL2.audioContext&&"suspended"===Module.SDL2.audioContext.state&&Module.SDL2.audioContext.resume()}catch(e){}window.removeEventListener("pointerdown",unlockAudio),window.removeEventListener("keydown",unlockAudio)}document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&persistFs()})),window.addEventListener("pagehide",persistFs),window.addEventListener("beforeunload",persistFs),window.addEventListener("pointerdown",unlockAudio),window.addEventListener("keydown",unlockAudio)</script><script async src=opentyrian.js></script></body></html>